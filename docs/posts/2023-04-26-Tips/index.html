<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="A Big Data Explotatory Data Anslysis on the New York Taxi Dataset">

<title>Sandro Luis R. Silva - Tips on Earning the Big Tips</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/profile.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-9FYFKWYLVG"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-9FYFKWYLVG', { 'anonymize_ip': true});
</script>


<meta name="twitter:title" content="Sandro Luis R. Silva - Tips on Earning the Big Tips">
<meta name="twitter:description" content="A Big Data Explotatory Data Anslysis on the New York Taxi Dataset">
<meta name="twitter:image" content="source-files/thumbnail.png">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Sandro Luis R. Silva</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resume.html" rel="" target="">
 <span class="menu-text">Resume</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/slrsilva/slrsilva.github.io" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Tips on Earning the Big Tips</h1>
                  <div>
        <div class="description">
          A Big Data Explotatory Data Anslysis on the New York Taxi Dataset
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">python</div>
                <div class="quarto-category">big-data</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">Apr 25, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p><img src="source-files/thumbnail.png" class="img-fluid" style="width:100.0%"></p>
<section id="sec-authors" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="sec-authors"><span class="header-section-number">1</span> Authors</h2>
<p>This analysis was done together with my groupmate Jac Lin T. Yu</p>
<p>Original creation and submission of this report was last Dec 2019.</p>
</section>
<section id="sec-executivesummary" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="sec-executivesummary"><span class="header-section-number">2</span> Abstract</h2>
<div class="executive-summary">
<p>Yellow cabs, green cabs, For-Hire Vehicles such as those operated by Uber and Lyft, commuter vans, and paratransit vehicles are registered and regulated by the New York Taxi &amp; Limousine Commission. This agency is also in charge of creating policy that affect the operators, commuters, and drivers. Current initiatives are trying to provide better working conditions and wages to FHV drivers since operators often take advantage of them, but there are no new policies that target the improvement of yellow taxi drivers, who work 12 hours a day and barely make minimum wage. This study aims to answer the problem “what are the best pickup locations to maximize tips of yellow taxi cab drivers” to help them maximize additional earnings in tips.</p>
<p>The data used in this study, yellow cab trip data in 2018 (8.65 GB), is a subset of the TLC data available in the AWS open data registry whose S3 bucket is <code>s3://nyc-tlc/trip data/</code>. Additional data from the Taxi Zone Lookup file was used to identify the boroughs and zones. An exploratory data analysis to conduct initial observations and identify potential trends or patterns in the data was performed. This was followed by data cleaning and preparation to ensure the data was ready for analysis. The study used machine learning algorithms, specifically the XGBoost algorithm, to predict the tips received by yellow taxi drivers based on pickup location, time of day, and other factors. The results of the study identified several pickup locations that could help maximize tips for yellow taxi drivers. The findings of this study could help improve the earnings of yellow taxi drivers who often struggle to make a living wage.</p>
</div>
<!-- ![](source-files/Poster.png){width=80% fig-align="center"} -->
</section>
<section id="sec-introduction" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="sec-introduction"><span class="header-section-number">3</span> Introduction and Significance</h2>
<p>The New York Taxi &amp; Limousine Commission (TLC) is the agency responsible for licensing and regulating yellow taxi cabs, green cabs, For-Hire Vehicles (FHVs), commuter vans, and paratransit vehicles. Technology providers authorized under the Taxicab &amp; Livery Passenger Enchancement Programs (TPEP/LPEP) collected trip data and shared it to TLC. This data is often used for policy and decision making to consider and reflect observed changes in the industry.</p>
<p>One of the datasets, aside from FHV and greeb cab trip data, is the yellow cab trip records from January 2009 to June 2019. The data used in this study is a subset, yellow cab trip data in 2018, which amounts to 8.65 GB.</p>
<p>The goal of this study is to answer the problem “what are the best pickup locations to maximize tips of yellow taxi cab drivers”. Once the optimal locations and possibly other factors that affect tip amount are identified, yellow cab drivers can make better decisions, such as where to wait for passengers, to maximize the tip they generate per day.</p>
<p>The significance of this statement lies in the potential impact it could have on the daily earnings and livelihoods of yellow taxi cab drivers in New York City. Many yellow cab drivers struggle to make a living wage, and maximizing tips could be an important factor in improving their financial well-being. By identifying the optimal pickup locations and other factors that affect tip amounts, this study could help yellow cab drivers make more informed decisions about where to wait for passengers, ultimately leading to higher tips and increased earnings. Additionally, the findings of this study could inform policy and decision-making by the New York Taxi &amp; Limousine Commission to improve the working conditions and wages of yellow cab drivers, ensuring a fair and equitable industry for all involved.</p>
</section>
<section id="sec-methodology" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="sec-methodology"><span class="header-section-number">4</span> Methodology</h2>
<section id="sec-datacollection" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="sec-datacollection"><span class="header-section-number">4.1</span> Data Collection and Description</h3>
<p>The Yellow Taxi Dataset of the New York Taxi &amp; Limousine Commission was retrieved from the <a href="https://registry.opendata.aws/">AWS open data registry</a> by accessing its <a href="s3://nyc-tlc/trip%20data/">S3 bucket</a>. Dataset was stored monthly in a <code>.csv</code> format, and contains the following information:</p>
<div id="tbl-taxi" class="anchored">
<table class="table">
<caption>Table&nbsp;1: Data Dictionary of the Taxi Dataset</caption>
<colgroup>
<col style="width: 29%">
<col style="width: 43%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Column Name</strong></th>
<th style="text-align: left;"><strong>Description</strong></th>
<th style="text-align: left;"><strong>Values</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">VendorID</td>
<td style="text-align: left;">TPEP provider</td>
<td style="text-align: left;">1: Creative Mobile Technologies, LLC.<br>2: VeriFone, Inc.</td>
</tr>
<tr class="even">
<td style="text-align: left;">tpep_pickup_datetime</td>
<td style="text-align: left;">Date and time the meter was engaged to signify start of trip</td>
<td style="text-align: left;">Datetime</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tpep_dropoff_datetime</td>
<td style="text-align: left;">Date and time the meter was disengaged to signify end of trip</td>
<td style="text-align: left;">Datetime</td>
</tr>
<tr class="even">
<td style="text-align: left;">Passenger_count</td>
<td style="text-align: left;">Number of passengers during the trip. (Driver entered value)</td>
<td style="text-align: left;">Numeric Value</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Trip_distance</td>
<td style="text-align: left;">Trip distance in miles</td>
<td style="text-align: left;">Numeric Value</td>
</tr>
<tr class="even">
<td style="text-align: left;">PULocationID</td>
<td style="text-align: left;">Zone ID where meter was engaged</td>
<td style="text-align: left;">Values based on TLC Zones</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DOLocationID</td>
<td style="text-align: left;">Zone ID where meter was disengaged</td>
<td style="text-align: left;">Values based on TLC Zones</td>
</tr>
<tr class="even">
<td style="text-align: left;">RateCodeID</td>
<td style="text-align: left;">Rate code in effect at the end of the trip</td>
<td style="text-align: left;">1: Standard Rate<br>2: JFK<br>3: Newark<br>4: Nassau or Westchester<br>5: Negotiated Fare<br>6: Group Ride</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Store_and_fwd_flag</td>
<td style="text-align: left;">Whether trip record was stored in memory before sending<br> to vendor due to lack of connection to the server</td>
<td style="text-align: left;">Y: Store and forward<br>N: Not a store and forward</td>
</tr>
<tr class="even">
<td style="text-align: left;">Payment_type</td>
<td style="text-align: left;">Method of payment of passenger</td>
<td style="text-align: left;">1: Credit Card<br>2: Cash<br>3: No Charge<br>4: Dispute<br>5: Unknown<br>6: Voided Trip</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fare_amount</td>
<td style="text-align: left;">Fare based on distance and time</td>
<td style="text-align: left;">Numeric Value</td>
</tr>
<tr class="even">
<td style="text-align: left;">Extra</td>
<td style="text-align: left;">Extra and surcharges</td>
<td style="text-align: left;">0.50 USD for rush hour <br> 1 USD for overnight charges</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MTA_tax</td>
<td style="text-align: left;">MTA tax based on meter rate used</td>
<td style="text-align: left;">0.50 USD</td>
</tr>
<tr class="even">
<td style="text-align: left;">Improvement_surcharge</td>
<td style="text-align: left;">Surcharge assessed trips at flag drop</td>
<td style="text-align: left;">0.30 USD</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tip_amount</td>
<td style="text-align: left;">Tip given by passenger. Recorded only when credit card payment</td>
<td style="text-align: left;">Numeric Value</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tolls_amount</td>
<td style="text-align: left;">Total amount of tolls paid</td>
<td style="text-align: left;">Numeric Value</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total_amount</td>
<td style="text-align: left;">Total amount charged to pasengers (not including cash tips)</td>
<td style="text-align: left;">Numeric Value</td>
</tr>
</tbody>
</table>
</div>
<p>Further details about the TLC Zones such as Borough, Zone, and Service Zone for the <code>PULocationID</code> and <code>DOLocationID</code> can be found in the <a href="https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page">Taxi Zone Lookup file</a>.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>